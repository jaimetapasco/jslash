<!DOCTYPE html>
<html>
<head>
<title>Animated Rotations</title>
<script type="text/javascript" src="../src/jslash.js"></script>
<script type="text/javascript">

jslash.prefetchImg([ "../img/mage_m.png"]);

var ANGLE_CT = 1;

jslash.ready(function() {
  var canvas = new jslash.Canvas();
  canvas.width(300); canvas.height(300);
  var s = new jslash.Sprite(jslash.images['../img/mage_m.png']);
  var r = new jslash.Rect(0,0,32,36);
  s.imageRect(r); 
  s.canvasRect( new jslash.Rect(0,0,32,36));
  s.center(canvas.center().x,canvas.center().y);
  s.rotate(0);
    
  jslash.onclear = function() {
    canvas.fill("#000000");
  };

  jslash.onrefresh = function() {
    canvas.draw(s);
  };
 
  new jslash.Animation(s,'angle',1000).from(0).to(Math.PI * 2).start();
  var elapsedTime = 0;

  jslash.onupdate = function(dt) {
    elapsedTime += dt;
    if (elapsedTime > 2000 ) {
      new jslash.Animation(s,'angle',250).from(0).to(Math.PI * 2).start();
      elapsedTime = 0;
    }
  };

  jslash.start(canvas);

});

</script>
</head>
<body> 
</body>
</html>
